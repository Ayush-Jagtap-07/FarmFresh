<% layout("/layouts/boilerplate") %>

    <body>
        <div class="row mt-3">
            <div class="col-md-10 offset-md-1 col-11 offset-1">
                <% if(products && products.length> 0) { %>
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Quantity</th>
                                <th scope="col"></th>
                                <th scope="col"></th>
                                <th scope="col"></th>
                                <th scope="col"></th>
                                <th scope="col">Price</th>
                            </tr>
                        </thead>

                        <% for(let product of products) { %>

                            <tbody>
                                <tr>
                                    <td>
                                        <%= product.item.name %>
                                    </td>
                                    <td>
                                        <%= product.quantity %>
                                    </td>
                                    <td>
                                        <%= product.qty %>
                                    </td>
                                    <td> <a class="dropdown-item" href="cart/add/<%= product.itemId %>">
                                            <i class="fa-solid fa-plus"></i> </a> </td>

                                    <td> <a class="dropdown-item" href="cart/reduce/<%= product.itemId %>">
                                            <i class="fa-solid fa-minus"></i> </a> </td>

                                    <td> <a class="dropdown-item" href="cart/remove/<%= product.itemId %>">
                                            <i class="fa-solid fa-xmark"></i> </a> </td>
                                    <td> &#8377; <%= product.price %>
                                    </td>
                                </tr>
                            </tbody>

                            <% } %>
                                <tr>
                                    <th scope="col" colspan="6"> Total : &#8377; <%= totalPrice %>
                                    </th>
                                </tr>
                                <tr>
                                    <th scope="col" colspan="6"> GST : 5 % </th>
                                </tr>
                                <tr>
                                    <th scope="col" colspan="6"> Delivery fee : &#8377; 30 </th>
                                </tr>
                                <tr>
                                    <th scope="col" colspan="6"> Grand total : &#8377; <%= totalPrice +
                                            totalPrice*(5/100) + 30 %>
                                    </th>
                                </tr>

                                <tr>
                                    <th scope="col" colspan="6"> <a href="/checkout"
                                            class="btn btn-raised btn-success">Checkout</a> </th>
                                </tr>

                    </table>

                    <% } else { %>

                        <div class="row mt-3">
                            <div class="col-md-4 col-sm-6 col-xs-6 offset-md-4 ">

                                <div class="cart-empty">
                                    <h3 class="mb-3">Oops, your cart is empty</h3>
                                    <h1><i class="fa-regular fa-face-frown"></i></h1>
                                </div>

                            </div>
                        </div>
                        <% } %>

            </div>
        </div>

    </body>